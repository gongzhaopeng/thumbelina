qustions:
  a:
    context: '退货以测评码为单位,不支持以订单为单位(前端不呈现订单概念)'
    flaw: '对于优惠订单里的测评码退货,用户直观上不易理解'
  b:
    context: '测评码私下赠与好友'
    flaw: '无法保证测评码不被盗用'
    suggestion: '如果不支持赠与,则可以限制测评码只能由购买人使用'
  c:
    context: '测评码私下赠与好友'
    constraint: '测评码只能由购买人退货'
  d: '测评码是否分文科理科'

user:
  id: '{wechat-openid}'
  create-time: '(Long)'
  wechat:
    login:
      openid: 'wechat-openid(String)'
      session-key: 'session-key(String)'
      unionid: 'wechat-unionid(String)'
      login-time: '(Long)'
    nickName: '用户昵称(String)'
    avatarUrl: '用户的avatar(String)'
    gender: '用户的性别(String)'
    city: '用户所在城市(String)'
    province: '用户所在省份(String)'
    country: '用户所在国家(String)'
    language: '用户的语言(String)'
  custom-profile:
    gender: '用户的性别(String)'
    subject: '文理等分科(String)'
    favor-courses:
      - '(String)'
    favor-specs:
      - '(String)'
    location:
      - '(String)'
    school: '用户就读的学校(String)'
  assess-codes:
    - code: '(String)'
      state: '(String)'
  assessments:
    - id: 'assessment-id(String)'
      subject: '(String)'
      completed-modules:
        - 'module-id(String)'

assess-code:
  code: '(String)'  # TODO Unique & Unpredictable
  create-time: '(Long)'
  # FRESH,OCCUPIED,REFUNDING,REFUNDED
  state: '(String)'
  owner: 'user-id(String)'
  occupied-by: 'user-id(String)'
  assessment-id: '(String)'
  order-id: '(String)'
  order-item-id: '(String)'
  refund-id: '(String)'

assessment:
  id: '(String)'
  create-time: '(Long)'
  subject: '(String)'
  owner: '(String)'
  assess-code: '(String)'
  modules:
    - id: '(String)'
      answers:
        - question-id: '(String)'
          content: '(String)'

assess-code-order:
  id: '(String)'
  create-time: '(Long)'
  owner: 'user-id(String)'
  items:
    - id: '(String)'
      refund-id: '(String)'
      # REFUNDING,REFUND_FAIL,REFUND_SUCCESS
      refund-state: '(String)'
  # UNPAID,PAID
  fee: '(Int)'
  state: '(String)'
  wepay-notify: "(Json-String)"
  wepay-notify-ts: '(Long)'

assess-code-refund:
  id: '(String)'
  create-time: '(Long)'
  order-id: '(String)'
  order-item-id: '(String)'
  # REFUNDING,REFUND_FAIL,REFUND_SUCCESS
  fee: '(Int)'
  state: '(String)'
  wepay-notify: "(Json-String)"
  wepay-notify-ts: '(Long)'
